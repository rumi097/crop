CSE 3200 PROJECT REPORT DRAFT
SMART FARMING MULTI‑PORTAL WEB APPLICATION

{Title page screenshot}

============================================================
1. ABSTRACT
============================================================

This project implements a full‑stack Smart Farming web application that connects farmers, buyers, vendors, laborers, and administrators through a unified digital platform. 

The system provides:
- Crop and fertilizer recommendations using machine learning models.
- A farmer marketplace for listing and selling crops.
- A buyer marketplace for browsing and purchasing crops and agricultural inputs.
- A vendor portal for managing inventory of seeds, fertilizers, and tools.
- A labor portal for publishing and applying to agricultural jobs.
- An admin portal for monitoring and managing all user roles and platform activity.

The backend is built with Flask and SQLite, exposing REST APIs secured via JWT‑based authentication. The frontend uses React to provide a responsive, modern user interface with role‑specific dashboards. The solution addresses real‑world problems such as post‑harvest losses, limited market access, lack of transparent pricing, and difficulty in finding agricultural labor.

{Home / landing page screenshot}

============================================================
2. INTRODUCTION
============================================================

2.1 Problem Statement

Traditional agricultural value chains in developing regions often suffer from:
- Limited access of farmers to fair and transparent marketplaces.
- Buyers struggling to find reliable sources of fresh crops at stable prices.
- Vendors lacking a digital presence for their agricultural inputs.
- Agricultural laborers finding work informally, with no structured record.
- Lack of data‑driven decision support (e.g., for crop selection, fertilizer planning).

This results in inefficiencies, income instability for farmers and laborers, and higher prices for consumers.

2.2 Objectives

The objectives of this project are:
- To design and implement a web‑based multi‑portal system connecting all key stakeholders of the agricultural ecosystem.
- To integrate machine learning models for crop and fertilizer recommendation and plant disease detection.
- To provide role‑based portals (Farmer, Buyer, Vendor, Labor, Admin) with tailored dashboards and workflows.
- To implement secure authentication, profile management, and persistent data storage.
- To make the system responsive and user‑friendly for real‑world deployment.

2.3 Scope of the Project

The project covers:
- Web frontend for all user roles.
- RESTful backend API and database schema.
- Basic machine learning integration using pre‑trained models.
- CRUD operations for marketplace listings, orders, labor posts, and user profiles.

Out of scope (for this version):
- Mobile native application.
- Complex payment gateway integration (simulated via payment method fields only).
- Large‑scale deployment and horizontal scaling.

============================================================
3. LITERATURE REVIEW / BACKGROUND
============================================================

3.1 Existing Systems

- Traditional local markets and middlemen, with no digital record.
- Generic e‑commerce platforms that do not focus on agricultural workflows (e.g., separate handling for perishable products, crop seasons, or farm locations).
- Government portals for crop price information but without end‑to‑end transaction support.

3.2 Gap Analysis

Existing solutions often:
- Focus on a single stakeholder, not the full value chain.
- Lack integration of AI/ML for recommendations.
- Do not provide granular farm‑level information such as exact farm location and farmer profiles.

Our system addresses these gaps by offering:
- Multi‑role access in one platform.
- AI‑assisted recommendations.
- Profile‑driven and listing‑level location visibility.

============================================================
4. SYSTEM ANALYSIS
============================================================

4.1 Functional Requirements

Major functional requirements include:
- User registration and login for Farmer, Buyer, Vendor, Labor, and Admin roles.
- JWT‑based authentication and protected API endpoints.
- Farmer portal:
  - View dashboard with crop listings, costs, labor posts, and orders.
  - Create, edit, and delete crop listings (with location, quantity, price, description, image URL, harvest date, and availability).
  - View and manage orders placed by buyers.
  - Post labor jobs and view applications.
  - Access crop and fertilizer recommendation tools.
  - Edit profile (farm name, farm size, farm location, phone, etc.).
- Buyer portal:
  - Browse marketplace of crops (with farm name, farmer name, listing‑level location, price, and availability).
  - Browse marketplace of vendor products.
  - Add items to cart, manage quantities, and place orders.
  - Track order status and view order history and analytics.
  - Edit buyer profile.
- Vendor portal:
  - Manage inventory of agricultural products (create, edit, delete products).
  - View and analyze orders for their products and sales statistics.
  - Edit vendor profile (business name, license number, etc.).
- Labor portal:
  - Browse available farm jobs posted by farmers.
  - Apply to jobs and track job history and earnings summary.
  - Edit labor profile (skills, experience years, daily wage, availability, location).
- Admin portal:
  - View platform analytics (user counts, listings, orders, etc.).
  - Manage users (activate/deactivate).
  - View system‑wide data summaries.
- Machine learning services:
  - Crop recommendation based on soil and environmental parameters.
  - Fertilizer recommendation.
  - Plant disease recognition from images (model prepared and integrated through service layer).
- Profile management for all roles, excluding email change.

4.2 Non‑Functional Requirements

- Usability: Simple and intuitive UI, consistent button styles, and clear status indicators.
- Security: JWT authentication, role‑based route protection, password hashing using Werkzeug.
- Performance: Efficient querying using SQLAlchemy ORM; API designed to minimize over‑fetching.
- Reliability: Proper error handling and validation on both frontend and backend.
- Scalability (basic): Layered architecture separating routes, models, services, and utilities.
- Maintainability: Organized frontend CSS and backend package structure.

============================================================
5. SYSTEM DESIGN
============================================================

5.1 Overall Architecture

The system follows a client–server architecture:
- Client: React single‑page application (SPA) running in the browser.
- Server: Flask application exposing RESTful JSON APIs.
- Database: SQLite relational database accessed via SQLAlchemy.
- ML Services: Python modules loading saved models (e.g., crop_model.pkl) and called from Flask routes.

{High‑level architecture diagram screenshot}

5.2 Module Decomposition

Backend (Flask):
- app.py – Application factory and server runner.
- config/settings.py – Configuration (database URI, secret key, upload folder, etc.).
- models/database.py – SQLAlchemy models:
  - User, FarmerProfile, VendorProfile, LaborProfile.
  - CropListing (with location), VendorProduct, Order, CostRecord, LaborHiring, etc.
- routes/auth_routes.py – Authentication and profile endpoints (register, login, get profile, update profile).
- portals/farmer_routes.py – Farmer‑specific APIs for crop listings, costs, labor postings, weather, and orders.
- portals/buyer_routes.py – Buyer APIs for marketplace, orders, and tracking.
- portals/vendor_routes.py – Vendor product and order APIs.
- portals/labor_routes.py – Labor jobs and applications APIs.
- portals/admin_routes.py – Admin analytics and user management APIs.
- services/ml_models.py – Loading and caching ML models.
- utils/auth.py – JWT token generation, decoding, role checking, and admin creation.

Frontend (React):
- src/index.js – Entry point; imports modular CSS and renders App.
- src/App.js – Router; decides which portal or page to show based on role and route.
- src/components/portals/FarmerPortal.js – Farmer dashboard, listings, recommendations, and profile tab.
- src/components/portals/BuyerPortal.js – Buyer dashboard, marketplace, cart, orders, tracking, history, and profile tab.
- src/components/portals/VendorPortal.js – Vendor dashboard, products, orders, sales history, and profile tab.
- src/components/portals/LaborPortal.js – Jobs list, my jobs, earnings, and profile tab.
- src/components/portals/AdminPortal.js – Analytics and user management, plus admin profile.
- src/components/shared/ProfileEditor.js – Reusable profile editing component for all roles.
- src/components/CropRecommendation.js, DiseaseRecognition.js, FertilizerRecommendation.js – ML feature UIs.
- src/components/LandingPage.js – Public landing page with featured crops, vendor products, and labor listings.

CSS & Styling:
- src/styles/main.css – Global design system, CSS variables (colors, spacing, typography, shadows).
- src/styles/base/, styles/components/, styles/portals/, styles/utilities/ – Modularized and maintainable CSS.

5.3 Database Design

Key tables:
- users(id, email, password_hash, full_name, phone, address, role, is_verified, is_active, created_at, updated_at)
- farmer_profiles(id, user_id, farm_name, farm_size, farm_location, latitude, longitude, soil_type, irrigation_type)
- vendor_profiles(id, user_id, business_name, business_license, rating, total_sales)
- labor_profiles(id, user_id, skills, experience_years, daily_wage, availability, rating)
- crop_listings(id, farmer_id, crop_name, category, quantity, unit, price_per_unit, description, image_url, harvest_date, is_available, created_at, location)
- vendor_products(id, vendor_id, product_name, category, brand, quantity_available, unit, price_per_unit, description, image_url, specifications, is_available, created_at)
- orders(id, buyer_id, crop_listing_id, vendor_product_id, order_type, quantity, unit_price, total_price, status, payment_method, delivery_address, created_at, ...)
- labor_hiring, cost_records, recommendation_history, etc.

{Database ER diagram screenshot}

5.4 User Interface Design

- Consistent use of cards, grids, badges, and buttons with role‑specific accent colors.
- Navigation tabs within each portal (e.g., Dashboard, Recommendations, History, Profile for Farmer).
- Responsive layout using CSS grid and flexbox for cards and forms.

{Farmer portal dashboard screenshot}
{Buyer marketplace screenshot}
{Vendor products management screenshot}
{Labor jobs listing screenshot}
{Admin analytics screenshot}

============================================================
6. IMPLEMENTATION DETAILS
============================================================

6.1 Technology Stack

Frontend:
- React (Create React App)
- JavaScript (ES6+)
- Axios for HTTP requests
- Modular CSS architecture

Backend:
- Python 3
- Flask (REST API framework)
- Flask‑SQLAlchemy ORM
- SQLite database
- Werkzeug for password hashing
- PyJWT (or equivalent) for JWT tokens

Machine Learning:
- Pre‑trained models saved as .pkl files:
  - Crop recommendation: crop_model.pkl + scaler and label encoder.
  - Fertilizer recommendation model.
  - Plant disease CNN model (trained separately, integrated via service).

6.2 Key Implementation Points

- Application Factory Pattern in Flask (`create_app`) for clean setup.
- Role‑based decorators (`role_required`, `login_required`) to protect endpoints.
- Centralized error handlers in routes/error_handlers.py.
- ProfileEditor component encapsulates all profile editing logic and form fields; re‑used in each portal.
- CropListing model enhanced with `location` column and listing‑specific location stored via farmer portal forms.
- Buyer and landing page marketplace components display `listing.location` first, falling back to `farmer_location`.

============================================================
7. TESTING AND EVALUATION
============================================================

7.1 Testing Strategy

- Unit‑style tests for backend routes (test_server.py, test_portals_e2e.py).
- Manual end‑to‑end testing for each portal:
  - Registration, login, and profile editing.
  - Creating, updating, deleting crop listings and vendor products.
  - Placing orders and checking order status transitions.
  - Creating and applying to labor jobs.
  - Verifying marketplace displays correct farmer name, farm name, and listing location.

7.2 Sample Test Cases

- TC01: Farmer registers, updates farm location, and creates a crop listing with explicit location. Buyer sees the same location on marketplace cards.
- TC02: Buyer adds multiple items to cart, modifies quantities, and places order. Order appears in both buyer and farmer portals.
- TC03: Vendor adds a new product, which appears in buyer marketplace; orders reduce available quantity correctly.
- TC04: Laborer applies to job; farmer sees applicant details.
- TC05: Profile update validation – email remains read‑only while other fields persist across sessions.

7.3 Results

- All core workflows execute correctly under normal conditions.
- Location now persists correctly at the listing level and is visible on the marketplace.
- The UI remains responsive across typical screen sizes (desktop/laptop, tablet view).

{Testing results table screenshot}

============================================================
8. REAL‑WORLD APPLICATION AND IMPACT
============================================================

8.1 Use Cases

- Smallholder farmers digitizing their crop inventory and reaching more buyers.
- Urban buyers sourcing fresh produce directly from farms with full transparency of location and farmer identity.
- Agricultural input vendors promoting products to targeted farmer segments.
- Seasonal agricultural workers finding verified jobs with better tracking of work history and earnings.

8.2 Benefits

- Increased transparency – buyers can see farm names, farmer profiles, and exact listing locations.
- Better decision support – ML recommendations reduce guesswork in crop and fertilizer selection.
- Reduced friction – all stakeholders interact on one platform instead of multiple disjoint systems.

8.3 Limitations

- Currently relies on a single SQLite database instance (not highly scalable).
- ML models require periodic retraining for better accuracy.
- No integrated digital payments yet (cash / offline methods assumed).

============================================================
9. CONCLUSION AND FUTURE WORK
============================================================

9.1 Conclusion

The Smart Farming multi‑portal application successfully demonstrates how modern web technologies and basic machine learning can be combined to support an end‑to‑end agricultural ecosystem. The implementation satisfies core functional requirements, provides a responsive user experience, and illustrates a realistic deployment scenario for small‑ to medium‑scale use.

9.2 Future Enhancements

- Migrate from SQLite to PostgreSQL or MySQL for better scalability.
- Deploy backend using a production WSGI server (e.g., gunicorn) behind Nginx.
- Develop Android/iOS mobile apps that consume the same REST APIs.
- Integrate real payment gateways and logistics APIs.
- Expand analytics dashboards with more detailed charts and forecasting.
- Improve ML models using larger, cleaner datasets and online learning.

============================================================
10. REFERENCES
============================================================

[List academic papers, tutorials, and datasets actually used – to be filled by student]

============================================================
11. APPENDICES
============================================================

Appendix A – Screenshots

{Login page screenshot}
{Farmer portal – Dashboard screenshot}
{Farmer portal – Crop listing form screenshot}
{Buyer portal – Marketplace screenshot}
{Buyer portal – Order tracking screenshot}
{Vendor portal – Products management screenshot}
{Labor portal – Available jobs screenshot}
{Admin portal – Analytics screenshot}

Appendix B – Sample API Endpoints

- POST /api/auth/register
- POST /api/auth/login
- GET /api/auth/profile
- PUT /api/auth/profile
- GET /api/farmer/crop-listings
- POST /api/farmer/crop-listings
- PUT /api/farmer/crop-listings/<id>
- GET /api/public/marketplace (crops & products)
- POST /api/buyer/orders
- GET /api/buyer/orders

[Additional endpoints can be listed as needed]

END OF REPORT
